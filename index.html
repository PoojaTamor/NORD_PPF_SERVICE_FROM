<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <title>NORD WARRANTY FORM</title>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>


<form action="">
    <div class="row gx-0 allscreee-box">
      <div class="col-12 firstallinone">
<div class="row gx-0 align-items-center">
  <div class="col-lg-2">
  <div class=" logo-box  ">
    <img src="./nord-logo.svg" alt="Logo" class="img-fluid d-lg-block d-none">
    <img src="./lastlogo.png" alt="Logo" class="img-fluid  d-lg-none d-block">
  </div>
</div>
    <div class="col-lg-10">
  <div class="p-3 allcard">
    
        <div class="first-outer-box  " data-box="first">
<div class="first-slide-box">
<div>
        <h1>Service <br> Warranty Card</h1>
<p>Please fill in the details below to <span class="d-block">activate your warranty service.</span></p>
   <div class="button-explore firstbtn"  >
    <div class="button-inner">
      <div class="button-inner-text"> Get Covered <svg width="10" height="30" viewBox="0 0 26 30" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M25.6641 15.0621L0.979807 29.3136L0.979809 0.810665L25.6641 15.0621Z" fill="white"/>
</svg>
</div>
      <div class="button-inner-text-hover">Get Covered <svg width="10" height="30" viewBox="0 0 26 30" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M25.6641 15.0621L0.979807 29.3136L0.979809 0.810665L25.6641 15.0621Z" fill="white"/>
</svg>
</div>
    </div>
    </div>
</div>
</div>
<div class="first-bottom">

    <h5><span>Eligibility</span>  <br>*Applicable only for vehicles serviced at authorized centers.</h5>
    
</div>
        </div>

<div class="Personal_Details_box box " data-box="personal">
  <div class="nextbtn">
    <img src="./nexterrow.png" alt="">
  </div>
<div class="full-detais-box">
      <div class="heading">
    <h2>Personal <br>Details</h2>
  </div>
<div class="detailsbox">
  <div class="input-row">
    <label>Full Name:</label>
    <input type="text" placeholder="John Doe "name="fullname"  required  >
  </div>

  <div class="input-row">
    <label>Phone Number:</label>
    <input type="number" placeholder="23 4567 8901" name="phone"  required >
  </div>

  <div class="input-row">
    <label>Email:</label>
    <input type="email" placeholder="john.doe@example.com" name="email" required>
  </div>
</div>

</div>
</div>


     <div class="Vehicle_Details_box box" data-box="vehicle">
       <div class="nextbtn">
    <img src="./nexterrow.png" alt="">
  </div>
    <div class="full-detais-box">
      <div class="heading">

        <h2>Vehicle  <br>Details</h2>
  </div>
<div class="detailsbox vichaldbox">
  <div class="input-row">
    <label>Vehicle Brand:</label>
     <select id="Brand" name="brand" class="form-select Brand"  required>
  <option value="" selected>Audi</option>
  <option value="BMW">BMW</option>
  <option value="BYD">BYD</option>
  <option value="Chevrolet">Chevrolet</option>
  <option value="Citroen">Citroen</option>
  <option value="Datsun">Datsun</option>
  <option value="Ford">Ford</option>
  <option value="Hyundai">Hyundai</option>
  <option value="Isuzu">Isuzu</option>
  <option value="Jaguar">Jaguar</option>
  <option value="Kia">Kia</option>
  <option value="Land Rover">Land Rover</option>
  <option value="Lexus">Lexus</option>
  <option value="Mahindra">Mahindra</option>
  <option value="Maruti Suzuki">Maruti Suzuki</option>
  <option value="MG Motors">MG Motors</option>
  <option value="Mercedes-Benz">Mercedes-Benz</option>
  <option value="Mini Cooper">Mini Cooper</option>
  <option value="Nissan">Nissan</option>
  <option value="Porsche">Porsche</option>
  <option value="Renault">Renault</option>
  <option value="Skoda">Skoda</option>
  <option value="Tata">Tata</option>
  <option value="Toyota">Toyota</option>
  <option value="Volkswagen">Volkswagen</option>
  <option value="Volvo">Volvo</option>
</select>
  </div>

  <div class="input-row">
    <label>Vehicle Model:</label>

  <select id="Model" class="form-select Model"  name="model" required>
                      <option value="" selected>A3 Cabriolet</option>
                    </select>
  </div>
    <div class="input-row"  >
<div style="display: none"   id="otherModelContainer">
      <div class="d-flex">
        <label>Other Model:</label>
                    <input
                      type="text"
                      id="OtherModel"
                      name="otherModel"
                      placeholder="Enter model"/>
      </div>
</div>
  </div>
  <div class="input-row">
    <label>Registration Number :</label>
    <input type="text" placeholder="ABC1234" required name="ref_no">
  </div>

  <div class="input-row">
    <label>Year of Manufacture:</label>
    <input type="text" placeholder="2020" required name="year">
  </div>
     <div class="input-row">
    <label> Color :</label>
    <input type="text" placeholder="Blue"  required name="Color">
  </div>

</div>
</div>
    </div>

    <div class="Our_Services_box box" data-box="services" >
       <div class="nextbtn">
    <img src="./nexterrow.png" alt="">
  </div>
        <div class="full-detais-box">
      <div class="heading">

        <h2>PPF<br> Service</h2>

  </div>
<div class="detailsbox">
<div class="row gx-0 gy-4">
  <div class="col-12   ">
  <h5> Warranty Year</h5>
<div class="d-flex  justify-content-between align-items-center yearbox">
  <select required  id="warrantySelect" name="warranty">
 <option disabled selected>Select Warranty</option>
  <option value="3YearsPro">3 Years (Pro)</option>
  <option value="5YearsPrimePlus">5 Years (Prime Plus)</option>
  <option value="8YearsPerformance">8 Years (Performance)</option>
  <option value="8YearsPerformancePlusIH">8 Years (Performance Plus - IH)</option>
  </select>

</div>
    </div>
<div class="col-12   ">
  <h5> Service Type</h5>
<div class="d-flex  justify-content-between align-items-center">
    <div class="radio-row">
  <input type="radio" id="matte" name="finish" value="matte" required>
    <label class="radio-label" for="matte">Matte</label>
  </div>
   <div class="radio-row">
                <input type="radio" id="gloss" name="finish" value="gloss" required>
    <label class="radio-label" for="gloss">Gloss</label>
   </div>
</div>
    </div>



    <div class="col-12   ">
  <h5> Cavarage Area </h5>
<div class="d-flex  justify-content-between align-items-center yearbox">
    <div class="radio-row">
  <input type="radio" id="full" name="cavarage" value="Full Cavarage" required>
    <label class="radio-label" for="full">Full </label>
  </div>
   <div class="radio-row">
                <input type="radio" id="partial" name="cavarage" value="Partial" required>
    <label class="radio-label" for="partial"> Partial </label>
   </div>
</div>
  <input type="text" id="partial-parts" name="parts"  style="display: none;"  class="custom-input mt-3" placeholder="Enter the specific parts">
    </div>
    
</div>
</div>
</div>
    </div>
        <div class="Our_Installer_box box" data-box="installer" >
           <div class="nextbtn">
    <img src="./nexterrow.png" alt="">
  </div>
        <div class="full-detais-box">
      <div class="heading">

        <h2>Installer <br> Details</h2>

  </div>
<div class="detailsbox">
<div class="row gx-0 gy-2">
 <div class="input-row">
    <label>Installer Name:</label>
    <input type="text" placeholder="John Doe "name="intallername"  required  >
  </div>

  <div class="input-row">
    <label>Phone Number:</label>
    <input type="number" placeholder="3456789017" name="intaler_phone"  required >
  </div>

  <div class="input-row">
    <label>Email:</label>
    <input type="email" placeholder="john.doe@example.com" name="instaler_email" required>
  </div>
    <div class="input-row">
    <label>Date of installation :</label>
  <input type="text" id="serviceDate" class=" custom-input dateinput" placeholder="11-10-2025" name="dateInput" autocomplete="off" required>
  </div>
  
    <div class="input-row">
    <label>Store Location :</label>
    <input type="text" placeholder="Gurugram" name="storeLocation" required>
  </div>
</div>
</div>
</div>
    </div>

    <div class="Uplode_box box " data-box="uplode">
         <div class="nextbtn">
    <img src="./nexterrow.png" alt="">
  </div>
        <div class="full-detais-box">
      <div class="heading">

        <h2><span class="">Snap. Share.  <br>Secure your</span> <br> proof.</h2>

  </div>
<div class="ubloade_pic">
  <input type="file" id="fileInput" accept="image/*" hidden name="file">
  <label for="fileInput" class="upload-btn">Upload picture</label>
  <div class="plus">
    <svg width="30" height="30" viewBox="0 0 108 109" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M42.2356 108.198V65.8389H0.411558V43.2689H42.2356V0.910069H65.8752V43.2689H107.592V65.8389H65.8752V108.198H42.2356Z" fill="#EB4A14"/>
    </svg>
  </div>
  <div class="overlaer"></div>
</div>

</div>
    </div>
        <div class="final-box" data-box="submit-box">
        <div class="full-detais-box">
      <div class="heading">

        <h2> <span class="d-block">Write the </span>  Total Amount Paid
        <maid class="d-block">for this service</maid>   </h2>

  </div>
<div class="finaldetailsbox">
<div>
  <input type="text" name="amount">
</div>
<div class="agree-box">
  <input type="checkbox" id="aggree" name="agree">
  <label for="aggree">I have read and agree to the Terms & Conditions of this <span class="d-md-block"> warranty.</span></label>
</div>

                      <div class="button-explore  "  id="submitaabtn">
    <div class="button-inner" id="submit-btn">
      <div class="button-inner-text"> submit 
</div>
      <div class="button-inner-text-hover">submit
</div>
    </div>
    </div>
</div>
</div>
    </div> 
  </div>
</div>
  </div>
    </div> 
      <div class="col-12  mylastcolumn">
      <div class="  thankque  ">
        <div class="container text-center">
         <img src="./lastlogo.png" alt="" class="img-fluid mt-5 w-75 ">
         <img src="./image.png" alt="" class="img-fluid w-50 my-4 midimghhh">
         
      </div>
      <img src="./card-nord.png" alt="" class="img-fluid lastnordimg">
    </div>
    </div>  
  </div>
</form>






    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


<script>
    document.querySelectorAll(".box").forEach(box => {
  box.addEventListener("click", () => {
    box.classList.add("active");
    // box.classList.toggle("active");
  });
});

</script>



<script>
  flatpickr("#serviceDate", {
  dateFormat: "d-m-Y", 
  allowInput: true,
  disableMobile: true
});
</script>

<!-- 
<script>
  const fullRadio = document.getElementById("full");
  const partialRadio = document.getElementById("partial");
  const partsInput = document.getElementById("partial-parts");

  // Hide or show input based on selection
  function togglePartsInput() {
    if (partialRadio.checked) {
      partsInput.style.display = "block";
    } else {
      partsInput.style.display = "none";
      partsInput.value = ""; // clear input if switched back to Full
    }
  }

  fullRadio.addEventListener("change", togglePartsInput);
  partialRadio.addEventListener("change", togglePartsInput);
</script> -->






<script>
  const fileInput = document.getElementById("fileInput");
  const uploadBox = document.querySelector(".ubloade_pic");
  const overlay = document.querySelector(".overlaer");

  fileInput.addEventListener("change", function () {
    if (this.files && this.files[0]) {
      const reader = new FileReader();
      reader.onload = function (e) {
        uploadBox.style.backgroundImage = `url(${e.target.result})`;
        overlay.classList.add("active"); // overlay black ho jaye
      };
      reader.readAsDataURL(this.files[0]);
    }
  });
</script>


<script>
  
function readFileAsBase64(file) {
  return new Promise((resolve, reject) => {
    const reader = new FileReader();
    reader.onload = () => resolve(reader.result);
    reader.onerror = error => reject(error);
    reader.readAsDataURL(file);
  });
}
</script>

 <script>
document.addEventListener("DOMContentLoaded", function () {
  const form = document.querySelector("form");
  const submitBtn = document.querySelector("#submitaabtn");
  const allcard = document.querySelector(".allcard");
  const getCoveredBtn = document.querySelector(".firstbtn");

  const steps = [
    document.querySelector('[data-box="personal"]'),
    document.querySelector('[data-box="vehicle"]'),
    document.querySelector('[data-box="services"]'),
    document.querySelector('[data-box="installer"]'),
    document.querySelector('[data-box="uplode"]'),
    document.querySelector('[data-box="submit-box"]')
  ];


  
  const isMobile = window.innerWidth <= 768;

  // ðŸ”’ Lock all steps initially
  steps.forEach(step => step.classList.add("locked"));

  function unlockStep(step) {
    step.classList.remove("locked");
  }

  // âœ… Check if all required fields in a step are filled
  function allFilled(step) {
    const inputs = step.querySelectorAll("input[required], select[required], textarea[required]");
    
    return Array.from(inputs).every(input => {
      if (input.tagName === "SELECT") {
        return input.value.trim() !== "" &&
               input.value !== "Select Brand" &&
               input.value !== "Select Model" &&
               input.value !== "Select Warranty";
      }

      if (input.type === "radio") {
        const radios = step.querySelectorAll(`input[name="${input.name}"]`);
        return Array.from(radios).some(r => r.checked);
      }

      // Special case for partial parts
      if (input.id === "partial-parts") {
        return input.style.display === "none" || input.value.trim() !== "";
      }

      return input.value.trim() !== "";
    });
  }


  // âœ… Unlock first step on "Get Covered"
  if (getCoveredBtn) {
    getCoveredBtn.addEventListener("click", function () {
      allcard.style.overflowX = "auto";
      unlockStep(steps[0]);
      steps[0].scrollIntoView({ behavior: "smooth", inline: isMobile ? "center" : "start" });
    });
  }

  // âœ… Partial coverage input handling
  const partialRadio = document.getElementById("partial");
  const fullRadio = document.getElementById("full");
  const partsInput = document.getElementById("partial-parts");

  if (partialRadio && fullRadio && partsInput) {
    partialRadio.addEventListener("change", () => {
      partsInput.style.display = "block";
      partsInput.required = true;
      partsInput.focus();
      partsInput.style.border = "2px solid #eb4a14";
    });
    fullRadio.addEventListener("change", () => {
      partsInput.style.display = "none";
      partsInput.required = false;
      partsInput.value = "";
      partsInput.style.border = "";
    });
  }

  // âœ… General step unlocking logic
 // âœ… Step unlocking only on Next Button Click
steps.forEach((step, index) => {
  const nextBtn = step.querySelector(".nextbtn");
  const nextStep = steps[index + 1];

  if (nextBtn && nextStep) {
    nextBtn.addEventListener("click", () => {
      if (allFilled(step)) {
        unlockStep(nextStep);
        nextStep.scrollIntoView({ behavior: "smooth", inline: isMobile ? "center" : "start" });
      } else {
        Swal.fire("Incomplete Step", "Please fill all required fields before proceeding.", "warning");
      }
    });
  }
});





  // âœ… Special handling for Service Step (unlock Installer only when all filled)
// âœ… Service Step unlocking now only via Next Button click
const serviceStep = document.querySelector('[data-box="services"]');
const installerStep = document.querySelector('[data-box="installer"]');

if (serviceStep && installerStep) {
  const nextBtn = serviceStep.querySelector(".nextbtn");
  const warrantySelect = serviceStep.querySelector('select[required]');
  const finishRadios = serviceStep.querySelectorAll('input[name="finish"]');
  const coverageRadios = serviceStep.querySelectorAll('input[name="cavarage"]');
  const partialPartsInput = document.getElementById("partial-parts");

  if (nextBtn) {
    nextBtn.addEventListener("click", () => {
      const warrantySelected = warrantySelect && warrantySelect.value.trim() !== "" && warrantySelect.value !== "Select Warranty";
      const finishSelected = Array.from(finishRadios).some(r => r.checked);
      const coverageSelected = Array.from(coverageRadios).some(r => r.checked);

      const partialSelected = document.getElementById("partial").checked;
      const partialFilled = !partialSelected || (partialPartsInput && partialPartsInput.value.trim() !== "");

      if (warrantySelected && finishSelected && coverageSelected && partialFilled) {
        unlockStep(installerStep);
        installerStep.scrollIntoView({ behavior: "smooth", inline: isMobile ? "center" : "start" });
      } else {
        Swal.fire("Incomplete Step", "Please complete all service details before proceeding.", "warning");
      }
    });
  }
}



  // âœ… Form Submit
  submitBtn.addEventListener("click", async function(e){
    e.preventDefault();


const requiredFields = form.querySelectorAll("input[required], select[required]");
    for(let field of requiredFields){
      if(!field.value.trim()){
        Swal.fire("Missing Field", `Please fill out ${field.name||field.placeholder}`, "warning");
        field.focus();
        return;
      }
    }
    

    // âœ… Phone Validation (exactly 10 digits)
    let phoneRegex = /^[0-9]{10}$/;
    if (!phoneRegex.test(form.phone.value.trim())) {
      Swal.fire("Invalid Phone", "Please enter a valid 10-digit phone number.", "error");
      form.phone.focus();
      return;
    }

    let instalphone =/^[0-9]{10}$/;
        if (!instalphone.test(form.intaler_phone.value.trim())) {
      Swal.fire("Invalid Phone", "Please enter a valid 10-digit installer  phone number under the installer details section .", "error");
      form.intaler_phone.focus();
      return;
    }


      const amount = form.querySelector("[name='amount']");
  if (!amount.value.trim() || isNaN(amount.value)) {
       Swal.fire("Amount Required", "Enter a valid amount paid.", );
       return;
  }

  let vehicleValue = form.ref_no.value.trim();
let vehicleRegex = /^[A-Za-z0-9]+$/; // only letters and numbers

if (vehicleValue.length < 6 || !vehicleRegex.test(vehicleValue)) {
  Swal.fire({
    icon: "error",
    title: "Invalid Vehicle Number",
    text: "Vehicle number must be at least 6 characters long and contain only letters and numbers."
  });
  form.model.focus();
  return;
}
    // âœ… Terms & Conditions check
    if(!document.querySelector("#aggree")?.checked){
      Swal.fire("Wait!", "Please agree to Terms & Conditions.", "info");
      return;
    }




    

    // const fileInput = document.querySelector("#fileInput");
    let modelSelect = form.model;
let otherModelInput = document.getElementById("OtherModel");
let modelValue = modelSelect.value;

if (modelValue === "Other" && otherModelInput && otherModelInput.value.trim() !== "") {
  modelValue = otherModelInput.value.trim();
}





const fileInput = document.querySelector("#fileInput");
const allowedTypes = ["image/jpeg", "image/jpg", "image/png"];
const maxSize = 10 * 1024 // 1 MB for example

if (fileInput.files.length === 0) {
    Swal.fire("Car Image Required", "Please upload car image.");
    return;
      form.file.focus();

} 

const file = fileInput.files[0];

if (!allowedTypes.includes(file.type)) {
    Swal.fire("Required", "File must be JPG, JPEG, or PNG.");
    return;
      form.file.focus();

}

if (file.size > maxSize) {
  Swal.fire("Required", "File must be smaller than 10KB.", );
    return;
      form.file.focus();

}

// If you want Base64 after validation
let fileBase64 = await readFileAsBase64(file);
let fileName = file.name;
console.log(fileBase64, fileName);
submitBtn.disabled = true;
  submitBtn.innerText = "Submitting..."; // optional feedback

 const warrantySelect = form.querySelector('select[required]');
    const finishRadio = form.querySelector('input[name="finish"]:checked');
    const coverageRadio = form.querySelector('input[name="cavarage"]:checked');
    const partialParts = document.getElementById("partial-parts");

    const warranty_type = warrantySelect && warrantySelect.value !== "Select Warranty" ? warrantySelect.value : "";
    console.log(warranty_type)
    const services = finishRadio ? finishRadio.value : "";
    const coverage_area = coverageRadio ? coverageRadio.value : "";
    const parts = partialParts && partialParts.value.trim() !== "" ? partialParts.value.trim() : "";
    const formData = {
      fullname: form.fullname.value,
      phone: form.phone.value,
      email: form.email.value,
      brand: form.brand.value,
      model: modelValue.trim(),
      ref_no: form.ref_no.value,
      year: form.year.value,
      Color: form.Color.value,
      warranty_type: warranty_type,
      services: services,
      coverage_area: coverage_area,
      parts: parts,
      intallername: form.intallername.value,
      intaler_phone: form.intaler_phone.value,
      instaler_email: form.instaler_email.value,
      serviceDate: form.dateInput.value,
      storeLocation: form.storeLocation.value,
      dateInput: form.dateInput.value,
      amount: form.amount.value,
      fileBase64,
      fileName
    };

    try{
      await fetch("https://script.google.com/macros/s/AKfycbyQzDsbswt3J0PoPwVW3svg2ilbaXPUrQm4arO6hnSq9_obEB7Kujhuefcnwy-KIkgq/exec", {
        method:"POST",
        mode:"no-cors",
        headers:{"Content-Type":"application/json"},
        body: JSON.stringify(formData)
      });
 form.reset();
  submitBtn.disabled = false;
    submitBtn.innerText = "Submit";
      // Animation
      const firstColumn = document.querySelector(".firstallinone");
      const lastColumn = document.querySelector(".mylastcolumn");
      firstColumn.classList.add("hide");
      setTimeout(()=>{
        firstColumn.style.display="none";
        lastColumn.style.display="block";
        setTimeout(()=>lastColumn.classList.add("show"),200);
      },800);

    }catch(err){ alert("Error submitting form"); console.error(err);}
  });

});



//   // âœ… Form Submit Validation + Logic
//   submitBtn.addEventListener("click", async function (e) {
//     e.preventDefault();

//     const requiredFields = form.querySelectorAll("input[required], select[required]");
//     for (let field of requiredFields) {
//       if (!field.value.trim() || (field.type === "radio" && !form.querySelector(`input[name="${field.name}"]:checked`))) {
//         Swal.fire("Missing Field", `Please fill out ${field.name || field.placeholder}`, "warning");
//         field.focus();
//         return;
//       }
//     }

//     // âœ… Phone Validation
//     let phoneRegex = /^[0-9]{10}$/;
//     if (!phoneRegex.test(form.phone.value.trim())) {
//       Swal.fire("Invalid Phone", "Please enter a valid 10-digit phone number.", "error");
//       form.phone.focus();
//       return;
//     }

//     // âœ… Vehicle Number Validation
//     let vehicleValue = form.ref_no.value.trim();
//     let vehicleRegex = /^[A-Za-z0-9]+$/;
//     if (vehicleValue.length < 6 || !vehicleRegex.test(vehicleValue)) {
//       Swal.fire({ icon: "error", title: "Invalid Vehicle Number", text: "Vehicle number must be at least 6 characters long and contain only letters and numbers." });
//       form.ref_no.focus();
//       return;
//     }

//     // âœ… Terms & Conditions Check
//     if (!document.querySelector("#aggree")?.checked) {
//       Swal.fire("Wait!", "Please agree to Terms & Conditions.", "info");
//       return;
//     }

//     // âœ… File Handling
//     const fileInput = document.querySelector("#fileInput");
//     let fileBase64 = null;
//     let fileName = "";
//     if (fileInput.files.length > 0) {
//       fileBase64 = await readFileAsBase64(fileInput.files[0]);
//       fileName = fileInput.files[0].name;
//     }

//     const formData = {
//       fullname: form.fullname.value,
//       phone: form.phone.value,
//       email: form.email.value,
//       brand: form.brand.value,
//       model: form.model.value,
//       ref_no: form.ref_no.value,
//       year: form.year.value,
//       Color: form.Color.value,
//   intallername: form.intallername.value,
//   intaler_phone: form.intaler_phone.value,
//   instaler_email: form.instaler_email.value,
//   serviceDate: form.dateInput.value,
//   storeLocation: form.storeLocation.value,
//   dateInput: form.dateInput.value,
//     amount: form.amount.value,
//       fileBase64,
    
//     };

//     try {
//      await fetch("https://script.google.com/macros/s/AKfycbxjIZBA-EZsCBNt5SVzs100OSfjcT8tqOWnB36Q5JsaPNyYTe1FMkzjI-Cv_qn9Gi54tg/exec", {
//         method:"POST",
//         mode:"no-cors",
//         headers:{"Content-Type":"application/json"},
//         body: JSON.stringify(formData)
//       });

//       form.reset();
//       const firstColumn = document.querySelector(".firstallinone");
//       const lastColumn = document.querySelector(".mylastcolumn");
//       firstColumn.classList.add("hide");
//       setTimeout(() => {
//         firstColumn.style.display = "none";
//         lastColumn.style.display = "block";
//         setTimeout(() => lastColumn.classList.add("show"), 200);
//       }, 800);

//     } catch (err) {
//       alert("Error submitting form");
//       console.error(err);
//     }
//   });

//   // Helper: convert uploaded file to Base64
//   function readFileAsBase64(file) {
//     return new Promise((resolve, reject) => {
//       const reader = new FileReader();
//       reader.onload = () => resolve(reader.result.split(",")[1]);
//       reader.onerror = reject;
//       reader.readAsDataURL(file);
//     });
//   }
// });

</script>

<script>
    const modelData = {
  Audi: ["A3", "A3 Cabriolet", "A4", "A6", "A6 Matrix", "Q2", "Q3", "Q5", "Q7", "R8", "RS5", "RS6", "RS7 Sportback", "S5 Sportback", "TT"],
  BMW: ["2 Series Gran Coupe", "3 Series", "3 Series GT", "4 Series", "5 Series", "5 Series GT", "6 Series", "7 Series", "8 Series", "i8", "M3", "M5", "X1", "X3", "X4", "X5", "X6", "Z4"],
  BYD: ["Atto 3", "Seal", "E6", "Dolphin", "Tang", "Song Plus"],
  Chevrolet: ["Aveo", "Aveo Old", "Aveo U-VA", "Beat", "Captiva", "Cruze", "Enjoy", "Forester", "Optra", "Optra Magnum", "Optra SRV", "Sail", "Sail Hatchback", "Sail U-VA", "Spark", "Tavera", "Trailblazer"],
  Citroen: ["Basalt", "C3", "C3 AIRCROSS", "C5 Aircross"],
  Datsun: ["GO", "Go Puls"],
  Ford: ["Classic", "Escort", "Fiesta", "Fiesta Classic", "Freestyle", "Fusion", "Ikon", "Mondeo", "Mustang"],
  Hyundai: ["Accent", "Accent Viva", "Alcazar", "Aura", "Creta", "Creta N-Line", "Elantra", "Eon", "Exter", "Getz", "Getz Prime", "Grand i10", "Grand i10 Nios", "i10", "i20", "Neo Fluidic Elantra", "New Santro 1.1", "Santa Fe", "Santro", "Santro Xing", "Sonata", "Sonata Embera", "Terracan", "Tucson", "Venue", "Venue N-Line", "Xcent"],
  Isuzu: ["MU-X", "D-MAX V-Cross", "Hi-Lander", "S-Cab", "S-Cab Z"],
  Jaguar: ["F-Pace", "E-Pace", "I-Pace", "XE", "XF", "XJ"],
  Kia: ["Carens", "Carnival", "Seltos", "Sonet"],
  "Land Rover": ["Discovery", "Discovery 3", "Discovery 4", "Discovery Sport", "Range Rover Evoque"],
  Lexus: ["NX", "RX", "LX", "ES", "LS", "LC 500h", "LM"],
  Mahindra: ["Alturas G4", "Armada", "Bolero", "Bolero Neo", "e20", "KUV100", "KUV100 NXT", "Marazzo", "Marshal", "NuvoSport", "Quanto", "REVAI", "Scorpio", "Scorpio Classic", "Scorpio Getaway", "Scorpio N", "Thar", "Thar Roxx", "TUV 300 PLUS", "TUV300", "Verito", "XUV 300", "XUV 300 TurboSport", "XUV 3XO", "XUV500", "XUV700", "Xylo"],
  "Maruti Suzuki": ["1000", "800", "A-Star", "Alto", "Alto 800", "Baleno", "Brezza", "Celerio", "Celerio X", "Ciaz", "Dzire", "Eeco", "Esteem", "Estilo", "Fronx", "Grand Vitara", "Gypsy", "Ignis", "Invicto", "Jimny", "New Ertiga", "Omni", "Ritz", "S-Cross", "S-Presso", "Swift", "SX4", "Versa", "Wagon R", "XL6", "Zen", "Zen Estilo"],
  "MG Motors": ["Astor", "Gloster", "Hector", "Hector Plus", "ZS EV"],
  "Mercedes-Benz": ["A-Class", "AMG GT", "B-Class", "C-Class", "CLA", "E-Class", "E-Class Cabriolet", "GL", "GLA", "GLB", "GLC", "GLE", "GLE Coupe", "GLS", "ML-Class", "S-Coupe", "SL"],
  "Mini Cooper": ["Cooper", "Countryman", "Cooper SE", "Countryman Electric"],
  Nissan: ["350Z", "370Z", "Evalia", "Kicks", "Magnite", "Micra", "Micra Active", "Sunny", "Teana", "Terrano", "X-Trail"],
  Porsche: ["Macan", "Cayenne", "911", "Panamera", "Taycan", "718", "Cayenne Coupe"],
  Renault: ["Captur", "Duster", "Fluence", "Kiger", "Koleos", "Kwid", "Lodgy", "Logan", "Pulse", "Scala", "Triber"],
  Skoda: ["Fabia", "Fabia Scout", "Karoq", "Kodiaq", "Kushaq", "Laura", "Octavia", "Octavia Combi", "Rapid", "Slavia", "Superb", "Superb Old", "Yeti"],
  Tata: ["Altroz", "Aria", "Bolt", "Curvy", "Harrier", "Hexa", "Indica", "Indica V2", "Indica V2 Turbo", "Indica V2 Xeta", "Indica Vista", "Indica eV2", "Indicab", "Indigo", "Indigo CS", "Indigo XL", "Indigo eCS", "Indigo Marina", "Manza", "Movus", "Nano", "Nano GenX", "Nexon", "Nexon EV", "Nexon EV Max", "Nexon EV Prime", "Punch", "Safari", "Safari Storme", "Sierra", "Sumo", "Sumo Gold", "Sumo Grande", "Sumo Grande MK II", "Sumo Spacio", "Sumo Victa", "Tiago", "Tiago EV", "Tiago NRG", "Tigor", "Tigor EV", "Venture", "Vista Tech", "Xenon XT", "Zest"],
  Toyota: ["Alphard", "Camry", "Celica", "Corolla", "Corolla Altis", "Corona", "Etios", "Etios Cross", "Etios Liva", "Fortuner", "Glanza", "Hilux", "Innova", "Innova Crysta", "Innova Hycross", "Land Cruiser", "Land Cruiser Prado", "Prius", "Qualis", "Rumion", "Urban Cruiser", "Urban Cruiser Hyryder", "Urban Cruiser Taisor", "Yaris"],
  Volkswagen: ["1600", "Ameo", "Beetle", "Cross Polo", "Jetta", "Passat", "Phaeton", "Polo", "T-Roc", "Taigun", "Tiguan", "Tiguan AllSpace", "Touareg", "Virtus", "Vento"],
  Volvo: ["XC90", "XC60", "XC40 Recharge", "C40 Recharge", "EX40", "EC40", "EX30", "S90"]
};

const brandSelect = document.getElementById("Brand");
      const modelSelect = document.getElementById("Model");
      const otherModelInput = document.getElementById("OtherModel");


      console.log(document.getElementById("Brand"));
console.log(document.getElementById("Model"));
      brandSelect.addEventListener("change", function () {
        const selectedBrand = brandSelect.value;
        modelSelect.innerHTML =
          '<option value="" selected disabled>Select Model</option>';

        if (modelData[selectedBrand]) {
          modelData[selectedBrand].forEach((model) => {
            const option = document.createElement("option");
            option.value = model;
            option.textContent = model;
            modelSelect.appendChild(option);
          });

          // Add "Other" option
          const otherOption = document.createElement("option");
          otherOption.value = "Other";
          otherOption.textContent = "Other";
          modelSelect.appendChild(otherOption);

          modelSelect.disabled = false;
        } else {
          modelSelect.disabled = true;
        }

        // Hide Other input when brand changes
        otherModelContainer.style.display = "none";
        otherModelInput.value = "";
      });

      // Model change
      modelSelect.addEventListener("change", function () {
        if (modelSelect.value === "Other") {
          otherModelContainer.style.display = "block";
          otherModelInput.focus();
             otherModelInput.required = true;
        } else {
          otherModelContainer.style.display = "none";
          otherModelInput.value = "";
           otherModelInput.required = false;
        }
      });
// Model change
modelSelect.addEventListener("change", function () {
  if (modelSelect.value === "Other") {
    otherModelContainer.style.display = "block";
    otherModelInput.required = true;
    otherModelInput.focus();
  } else {
    otherModelContainer.style.display = "none";
    otherModelInput.value = "";
    otherModelInput.required = false;
  }
});
</script>
  </body>
</html>



